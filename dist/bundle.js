(()=>{let e=new Image,t="",n=document.getElementById("button_container"),a=document.createElement("button"),i=document.createElement("button"),s=!1,c=document.createElement("button"),d=document.getElementById("filtered_canvas").getContext("2d"),l=document.createElement("video");async function o(){d.drawImage(l,0,0,1280,720),requestAnimationFrame(o)}a.classList.add("btn"),a.classList.add("btn-success"),a.classList.add("custom_btn_length"),a.innerText="Grayscale",a.addEventListener("click",(function(){t="grayscale",console.log("switch to grayscale")})),i.classList.add("btn"),i.classList.add("btn-info"),i.classList.add("custom_btn_length"),i.innerText="AR Sticker",i.addEventListener("click",(function(){t="ar_sticker",s=!0,console.log("switch to ar sticker")})),c.classList.add("btn"),c.classList.add("btn-primary"),c.classList.add("custom_btn_length"),c.innerText="Remove Filters",c.addEventListener("click",(function(){t="original",s=!1,console.log("remove all filters")})),n.appendChild(a),n.appendChild(i),n.appendChild(c),Promise.all([e.src="img/duck2.png"]).then((function(){navigator.mediaDevices.getUserMedia({audio:!1,video:{mandatory:{minWidth:1280,maxWidth:1280,minHeight:720,maxHeight:720}}}).then((e=>{l.srcObject=e,l.muted=!0,l.play(),o()}))}))})();